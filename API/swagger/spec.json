{"openapi":"3.0.0","info":{"title":"API smartcity","version":"1.0.0"},"paths":{"/person/{id}":{"get":{"tags":["Person"],"parameters":[{"name":"id","description":"ID d'une personne","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/PersonFound"},"400":{"description":"l'id de la personne n'est pas un nombre"},"404":{"description":"Personne non trouvée"},"500":{"description":"Erreur serveur"}}}},"/person":{"post":{"tags":["Person"],"requestBody":{"$ref":"#/components/requestBodies/PersonneAAjoute"},"responses":{"201":{"$ref":"#/components/responses/PersonneAjoute"},"400":{"description":"l'email et/ou le password est incorrect"},"409":{"description":"l'email et/ou le pseudo existe deja"},"500":{"description":"Erreur serveur"}}},"put":{"tags":["Person"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/PersonneAUpdate"},"responses":{"200":{"$ref":"#/components/responses/PersonneUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"500":{"description":"Erreur serveur"}}}},"/report/{id}":{"get":{"tags":["Report"],"parameters":[{"name":"id","description":"ID d'un report","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/ReportFound"},"400":{"description":"L'id du report n'est pas un nombre"},"404":{"description":"Report non trouvé"},"500":{"description":"Erreur serveur"}}}},"/report":{"post":{"tags":["Report"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/ReportAAjoute"},"responses":{"201":{"$ref":"#/components/responses/ReportAjoute"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"500":{"description":"Erreur serveur"}}},"put":{"tags":["Report"],"requestBody":{"$ref":"#/components/requestBodies/ReportAUpdate"},"responses":{"204":{"$ref":"#/components/responses/ReportUpdated"},"400":{"description":"Le reportId ou isDone ou reason est undefined"},"401":{"$ref":"#/components/responses/MissingJWT"},"500":{"description":"Erreur serveur"}}}},"delete":{"tags":["Report"],"responses":{"204":{"$ref":"#/components/responses/ReportDeleted"},"400":{"description":"ReportId est undefined"},"500":{"description":"Erreur serveur"}}}},"components":{"schemas":{"Person":{"type":"object","properties":{"id":{"type":"integer"},"pseudo":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","format":"password"}}},"Report":{"type":"object","properties":{"id":{"type":"integer"},"reason":{"type":"string"},"date":{"type":"object"},"isDone":{"type":"boolean"},"userId":{"type":"integer"},"toiletId":{"type":"integer"}}}},"responses":{"PersonFound":{"description":"renvoie une personne","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Person"}}}},"PersonneAjoute":{"description":"la personne a été ajoutée"},"PersonneUpdated":{"description":"la personne a été mise à jour"},"PersonneDeleted":{"description":"la personne a été supprimé"},"ReportFound":{"description":"renvoie un report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Report"}}}},"ReportAjoute":{"description":"le report a été ajouté"},"ReportUpdated":{"description":"le report a été mis à jour"},"ReportDeleted":{"description":"le report a été supprimé"},"mustBeManager":{"description":"L'action demandée ne peut être réalisée que par un manager"},"ErrorJWT":{"description":"le JWT n'est pas valide"},"MissingJWT":{"description":"le JWT n'est pas présent"}},"requestBodies":{"PersonneAAjoute":{"content":{"application/json":{"schema":{"type":"object","properties":{"pseudo":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","format":"password"}}}}}},"PersonneAUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"pseudo":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"}}}}}},"ReportAAjoute":{"content":{"application/json":{"schema":{"type":"object","properties":{"reason":{"type":"string"},"toiletId":{"type":"integer"}}}}}},"ReportAUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"reason":{"type":"string"},"isDone":{"type":"boolean"}}}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}